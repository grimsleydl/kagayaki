# Maintainer: julroy67 <julroy67@gmail.com>
# Contributor: bohoomil <@zoho.com>

pkgname=otf-ebgaramond-kagayaki
pkgver=0.17
pkgrel=1
pkgdesc="EB Garamond is a revival by Georg Duffner of the 16th century fonts designed by Claude Garamond"
arch=('any')
url="http://www.georgduffner.at/ebgaramond/"
license=('custom:OFL')
conflicts=('otf-ebgaramond-ibx')
groups=('infinality-bundle-fonts-extra')
# http://mirrors.ctan.org/fonts/ebgaramond.zip
source=("https://julroy67.freeboxos.fr:13476/share/h3Y-xMyPcgF6drIY/Fonts/ebgaramond.tar.xz"
        40-ebgaramond.conf)
sha256sums=('87a101e35e8ba8b1f3f79bee9f725d4c62c2f9f013879d17a3c20975eae93b55'
            '31c8d67f4b4d30cc4fb43ed265ce1fff686653cad45e2ed1c2c1a17bccd7f806')

package(){
    cd "${srcdir}"

	# Install license
    install -Dm644 "COPYING" \
        "${pkgdir}"/usr/share/licenses/"${pkgname}"/COPYING

    # Install font
    install -m755 -d "${pkgdir}"/usr/share/fonts/kagayaki/"${pkgname}"
    install -m644 *.otf "${pkgdir}"/usr/share/fonts/kagayaki/"${pkgname}"

	# Install infinality conf
    install -m755 -d "${pkgdir}"/etc/fonts/conf.avail
    install -m755 -d "${pkgdir}"/etc/fonts/conf.d
    install -m644 40-ebgaramond.conf \
        "${pkgdir}"/etc/fonts/conf.avail/40-ebgaramond.conf

    cd "${pkgdir}"/etc/fonts/conf.d
    ln -s ../conf.avail/40-ebgaramond.conf .
}
